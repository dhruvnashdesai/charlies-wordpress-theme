// ==========================================================================
// Form Styles - Charlie's Theme
// Matching dipski.co dark theme forms
// ==========================================================================

@use 'variables' as *;
@use 'mixins' as *;

// --------------------------------------------------------------------------
// Base Form Elements
// --------------------------------------------------------------------------

.form-row {
	margin-bottom: $spacing-4;

	label {
		display: block;
		font-size: $font-size-sm;
		font-weight: $font-weight-semibold;
		margin-bottom: $spacing-2;
		color: $color-white;

		.required {
			color: $color-accent;
		}

		.optional {
			font-weight: $font-weight-normal;
			color: $color-muted;
		}
	}

	input[type="text"],
	input[type="email"],
	input[type="tel"],
	input[type="number"],
	input[type="password"],
	input[type="url"],
	input[type="search"],
	select,
	textarea {
		width: 100%;
		padding: $spacing-3 $spacing-4;
		background-color: $color-bg-card;
		border: 1px solid $color-border;
		border-radius: $border-radius-sm;
		color: $color-white;
		font-size: $font-size-base;
		transition: border-color $transition-fast;

		&:focus {
			outline: none;
			border-color: $color-accent;
		}

		&::placeholder {
			color: $color-muted;
		}

		&.input-text {
			// WooCommerce class
		}
	}

	textarea {
		min-height: 100px;
		resize: vertical;
	}

	select {
		appearance: none;
		background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='2'%3E%3Cpath d='M6 9l6 6 6-6'/%3E%3C/svg%3E");
		background-repeat: no-repeat;
		background-position: right $spacing-4 center;
		padding-right: $spacing-10;
		cursor: pointer;
	}

	&.woocommerce-invalid {
		input,
		select,
		textarea {
			border-color: #ef4444;
		}
	}

	&.woocommerce-validated {
		input,
		select,
		textarea {
			border-color: #22c55e;
		}
	}
}

// Two-column form rows
.form-row-first,
.form-row-last {
	@include md {
		width: calc(50% - #{$spacing-2});
		display: inline-block;
		vertical-align: top;
	}
}

.form-row-first {
	@include md {
		margin-right: $spacing-2;
	}
}

.form-row-last {
	@include md {
		margin-left: $spacing-2;
	}
}

.form-row-wide {
	width: 100%;
}

// --------------------------------------------------------------------------
// Checkbox & Radio
// --------------------------------------------------------------------------

input[type="checkbox"],
input[type="radio"] {
	width: 18px;
	height: 18px;
	margin-right: $spacing-2;
	accent-color: $color-accent;
	cursor: pointer;
}

.woocommerce-form__label-for-checkbox {
	display: flex;
	align-items: flex-start;
	gap: $spacing-2;
	cursor: pointer;

	span {
		font-size: $font-size-sm;
		color: $color-muted;
		line-height: 1.4;
	}
}

// --------------------------------------------------------------------------
// Select2 Overrides (WooCommerce country/state selects)
// --------------------------------------------------------------------------

.select2-container {
	width: 100%;

	.select2-selection--single {
		height: auto;
		padding: $spacing-3 $spacing-4;
		background-color: $color-bg-card;
		border: 1px solid $color-border;
		border-radius: $border-radius-sm;

		.select2-selection__rendered {
			color: $color-white;
			padding: 0;
			line-height: 1.5;
		}

		.select2-selection__arrow {
			height: 100%;
			right: $spacing-3;

			b {
				border-color: $color-white transparent transparent;
			}
		}
	}

	&--open .select2-selection--single {
		border-color: $color-accent;
	}
}

.select2-dropdown {
	background-color: $color-bg-card;
	border: 1px solid $color-border;
	border-radius: $border-radius-sm;

	.select2-search__field {
		background-color: $color-bg;
		border: 1px solid $color-border;
		color: $color-white;
		padding: $spacing-2;

		&:focus {
			outline: none;
			border-color: $color-accent;
		}
	}

	.select2-results__option {
		padding: $spacing-2 $spacing-3;
		color: $color-white;

		&--highlighted {
			background-color: $color-accent;
		}

		&--selected {
			background-color: rgba($color-accent, 0.2);
		}
	}
}

// --------------------------------------------------------------------------
// Error Messages
// --------------------------------------------------------------------------

.woocommerce-error,
.woocommerce-message,
.woocommerce-info {
	@include card;
	padding: $spacing-4 $spacing-5;
	margin-bottom: $spacing-6;
	border-left: 4px solid;

	li {
		margin: 0;
	}

	a {
		color: $color-accent;
		font-weight: $font-weight-semibold;

		&:hover {
			text-decoration: underline;
		}
	}
}

.woocommerce-error {
	border-left-color: #ef4444;
	background-color: rgba(239, 68, 68, 0.1);
}

.woocommerce-message {
	border-left-color: #22c55e;
	background-color: rgba(34, 197, 94, 0.1);
}

.woocommerce-info {
	border-left-color: $color-accent;
	background-color: rgba($color-accent, 0.1);
}

// --------------------------------------------------------------------------
// Password Visibility Toggle
// --------------------------------------------------------------------------

.show-password-input {
	position: absolute;
	right: $spacing-3;
	top: 50%;
	transform: translateY(-50%);
	color: $color-muted;
	cursor: pointer;

	&:hover {
		color: $color-white;
	}
}

.password-input {
	position: relative;
}
